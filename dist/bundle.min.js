function Rectangle(e,t){var r=Number(e),a=Number(t);this.area=function(){return Math.round(r*a*Math.pow(10,3))/Math.pow(10,3)},this.perimeter=function(){return Math.round(2*(r+a)*Math.pow(10,3))/Math.pow(10,3)}}$(function(){var a=$("#width"),i=$("#height"),e=$("#calculate"),n=$("#perimeter"),u=$("#area");function o(e){var t=$(e),r=$(e+"-validation-message");return""===t.val()?(r.html("不能为空！"),void t.select()):/^-?(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?$/.test(t.val())?Number(t.val())<0?(r.html("必须大于0!"),void t.select()):(r.html(""),1):(r.html("必须是数值！"),void t.select())}$forkMeGH.show("https://github.com/zhouxuan2017/rectangle"),$bszPageFooter.show("body"),e.click(function(){if(o("#width")&&o("#height")){var e=Number(a.val()),t=Number(i.val()),r=new Rectangle(e,t);n.val(r.perimeter()),u.val(r.area())}}),a.keypress(function(e){if(/[abcdf-zABCDF-Z`~!@#$%^&*()=_+[\]{}|;:'",<>/?\\]/.test(e.key))e.preventDefault();else{var t=e.target.selectionStart,r=e.target.value;if("e"===e.key){if(0===t||-1!==r.indexOf("e")||-1!==r.indexOf("E"))return void e.preventDefault();if(1===t&&"-"===r.substring(0,1))return void e.preventDefault()}}}),i.keypress(function(e){if(/[abcdf-zABCDF-Z`~!@#$%^&*()=_+[\]{}|;:'",<>/?\\]/.test(e.key))e.preventDefault();else{var t=e.target.selectionStart,r=e.target.value;if("e"===e.key){if(0===t||-1!==r.indexOf("e")||-1!==r.indexOf("E"))return void e.preventDefault();if(1===t&&"-"===r.substring(0,1))return void e.preventDefault()}}}),a.focusout(function(){o("#width")||a.select()}),i.focusout(function(){o("#height")||i.select()})});